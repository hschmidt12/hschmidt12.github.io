<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Helen Schmidt">
<meta name="dcterms.date" content="2023-06-15">
<meta name="description" content="A tutorial created for the 2023 Temple University Coding Outreach Group summer workshop series.">

<title>Helen Schmidt - Introduction to Machine Learning in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Helen Schmidt</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html" rel="" target="">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../portfolio.html" rel="" target="">
 <span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../files/Schmidt-CV.pdf" rel="" target="">
 <span class="menu-text">CV</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-machine-learning" id="toc-what-is-machine-learning" class="nav-link active" data-scroll-target="#what-is-machine-learning">What is Machine Learning?</a></li>
  <li><a href="#dataset" id="toc-dataset" class="nav-link" data-scroll-target="#dataset">Dataset</a>
  <ul class="collapse">
  <li><a href="#explore-data" id="toc-explore-data" class="nav-link" data-scroll-target="#explore-data">Explore data</a></li>
  </ul></li>
  <li><a href="#supervised-learning" id="toc-supervised-learning" class="nav-link" data-scroll-target="#supervised-learning">Supervised Learning</a>
  <ul class="collapse">
  <li><a href="#k-nearest-neighbors" id="toc-k-nearest-neighbors" class="nav-link" data-scroll-target="#k-nearest-neighbors">K-Nearest Neighbors</a></li>
  <li><a href="#classification-decision-trees" id="toc-classification-decision-trees" class="nav-link" data-scroll-target="#classification-decision-trees">Classification / Decision Trees</a></li>
  </ul></li>
  <li><a href="#unsupervised-learning" id="toc-unsupervised-learning" class="nav-link" data-scroll-target="#unsupervised-learning">Unsupervised Learning</a>
  <ul class="collapse">
  <li><a href="#k-means-clustering" id="toc-k-means-clustering" class="nav-link" data-scroll-target="#k-means-clustering">K-means clustering</a></li>
  <li><a href="#principal-components-analysis" id="toc-principal-components-analysis" class="nav-link" data-scroll-target="#principal-components-analysis">Principal Components Analysis</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Machine Learning in R</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">Open Data</div>
    <div class="quarto-category">Machine Learning</div>
  </div>
  </div>

<div>
  <div class="description">
    A tutorial created for the 2023 Temple University Coding Outreach Group summer workshop series.
  </div>
</div>

<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://helenschmidt.info">Helen Schmidt</a> <a href="https://orcid.org/0000-0003-0986-2945" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://sites.temple.edu/sanlab/">
            PhD Student @ Temple University
            </a>
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 15, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="what-is-machine-learning" class="level1">
<h1>What is Machine Learning?</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define packages we need</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stats)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cluster)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(formatR)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(class)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vembedr)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrr)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart.plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Machine learning (ML) broadly describes the process of teaching computers to learn information. It is widely used in computer science, neuroscience, and data science to train “machines” (e.g., algorithms, models) to learn about information and make predictions or classifications based on that learning. Machine learning is a subset of artificial intelligence (AI), and it has grown in popularity during the recent AI boom. While AI describes the general development of computers that can mimic cognitive function, machine learning is more specific, using algorithms and large amounts of data to make informed decisions for specific tasks.</p>
<p>Machine learning has become especially popular for researchers in psychology and neuroscience. Thanks to huge increases in computing power and access to datasets with thousands or millions of observations, psychologists have seen great success in applying ML methods to gather insights about human behavior and cognition. ML models can reduce time, effort, and error costs and can be applied flexibly across projects and datasets, including behavioral, survey, and neuroimaging data.</p>
<p>The goal of this tutorial is to introduce a variety of machine learning methods that can be applied to psychological data. We will examine the differences between unsupervised and supervised models and in which contexts they are best applied. This tutorial will also touch on model evaluation and comparison, and unpack how to determine certain parameters given your data. This is by no means an exhaustive list of all approaches - these are meant to serve as introductory examples and methods that can be employed specifically in the R programming language. A majority of more complex ML approaches are supported in Python using libraries like <code>PyTorch</code>, <code>TensorFlow</code>, and <code>Keras</code>, and these are more typically what you might see in other ML tutorials.</p>
<p>This tutorial is intended to be an introduction to machine learning with R, but you should have some familiarity with scripting and R before starting this tutorial. This tutorial will also discuss reasons for using machine learning alongside more “traditional” data analysis and visualization techniques, and leave room for future directions on applying machine learning tools to relevant psychological and neural datasets.</p>
<div class="grid">
<div class="g-col-4">
<div class="cell">
<div class="cell-output-display">
<p><img src="penguin-hex.png" width="225" height="225"></p>
</div>
</div>
</div>
<div class="g-col-8">
<p>We will use one publicly available dataset throughout the tutorial, accessible through the <code>palmerpenguins</code> R package. This is similar to the native <code>iris</code> dataset in R but serves as a fresh and similarly simple dataset.</p>
<p>Note: Artwork by <a href="https://twitter.com/allison_horst"><span class="citation" data-cites="allison_horst">@allison_horst</span></a>. All images included in this tutorial are available for open use under the Creative Commons Attribution 4.0 International License.</p>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set colors</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#ff6800"</span>, <span class="st">"#d74fd0"</span>, <span class="st">"#007176"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># set custom plot formatting</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>plot.format <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">theme_classic</span>(), <span class="fu">scale_color_manual</span>(<span class="at">values =</span> colors), <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colors))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dataset" class="level1">
<h1>Dataset</h1>
<p>The palmer penguins dataset was created by Allison Horst, and features data from penguins. The data from these penguins was originally collected by researchers at the Palmer Long-Term Ecological Research Station in Antarctica. There are three different species of penguin in this dataset collected from three islands in the Palmer Archipelago, Antarctica. For the sake of simplicity, we will be working with the <code>penguins</code> dataset, rather than the <code>penguins_raw</code> dataset.</p>
<p><strong>What data is contained in the dataset?</strong></p>
<ul>
<li><code>species</code> - penguin species</li>
<li><code>island</code> - island the penguin lived on</li>
<li><code>bill_length_mm</code> - length of penguin bill in millimeters</li>
<li><code>bill_depth_mm</code> - depth of penguin bill in millimeters</li>
<li><code>flipper_length_mm</code> - length of flippers in millimeters</li>
<li><code>body_mass_g</code> - mass of penguin in grams</li>
<li><code>sex</code> - sex of penguin, either male or female</li>
<li><code>year</code> - year data was collected</li>
</ul>
<div class="grid">
<div class="g-col-6">
<div class="cell">
<div class="cell-output-display">
<p><img src="penguins.png" width="350" height="225"></p>
</div>
</div>
</div>
<div class="g-col-6">
<div class="cell">
<div class="cell-output-display">
<p><img src="culmen_depth.png" width="350" height="225"></p>
</div>
</div>
</div>
</div>
<section id="explore-data" class="level2">
<h2 class="anchored" data-anchor-id="explore-data">Explore data</h2>
<p>Before we start with our ML models, let’s take a moment to explore the data we’re working with.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> palmerpenguins<span class="sc">::</span>penguins</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># examine data</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datasummary_skim</span>(df, <span class="at">type =</span> <span class="st">"categorical"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_6h2jcqfgt78w3mot7gty</title>
    <style>
.table td.tinytable_css_0jelxorom83x2an8k61k, .table th.tinytable_css_0jelxorom83x2an8k61k {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_224yacl53qtgf6d4nsyd, .table th.tinytable_css_224yacl53qtgf6d4nsyd {    text-align: left; }
.table td.tinytable_css_tmssmrwk0h873idwvdds, .table th.tinytable_css_tmssmrwk0h873idwvdds {    text-align: left; }
.table td.tinytable_css_tezrypwa8khtleriogt1, .table th.tinytable_css_tezrypwa8khtleriogt1 {    text-align: right; }
.table td.tinytable_css_c8wxv1qufjm1pw431g8h, .table th.tinytable_css_c8wxv1qufjm1pw431g8h {    text-align: right; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_6h2jcqfgt78w3mot7gty" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">  </th>
                <th scope="col">N</th>
                <th scope="col">%</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>species</td>
                  <td>Adelie   </td>
                  <td>152</td>
                  <td>44.2</td>
                </tr>
                <tr>
                  <td>       </td>
                  <td>Chinstrap</td>
                  <td>68 </td>
                  <td>19.8</td>
                </tr>
                <tr>
                  <td>       </td>
                  <td>Gentoo   </td>
                  <td>124</td>
                  <td>36.0</td>
                </tr>
                <tr>
                  <td>island </td>
                  <td>Biscoe   </td>
                  <td>168</td>
                  <td>48.8</td>
                </tr>
                <tr>
                  <td>       </td>
                  <td>Dream    </td>
                  <td>124</td>
                  <td>36.0</td>
                </tr>
                <tr>
                  <td>       </td>
                  <td>Torgersen</td>
                  <td>52 </td>
                  <td>15.1</td>
                </tr>
                <tr>
                  <td>sex    </td>
                  <td>female   </td>
                  <td>165</td>
                  <td>48.0</td>
                </tr>
                <tr>
                  <td>       </td>
                  <td>male     </td>
                  <td>168</td>
                  <td>48.8</td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_2vpffdzoujwa96cjps77(i, j, css_id) {
        var table = document.getElementById("tinytable_6h2jcqfgt78w3mot7gty");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_6h2jcqfgt78w3mot7gty');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_2vpffdzoujwa96cjps77(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_6h2jcqfgt78w3mot7gty");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(0, 0, 'tinytable_css_0jelxorom83x2an8k61k') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(0, 1, 'tinytable_css_0jelxorom83x2an8k61k') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(0, 2, 'tinytable_css_0jelxorom83x2an8k61k') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(0, 3, 'tinytable_css_0jelxorom83x2an8k61k') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(0, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(1, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(2, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(3, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(4, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(5, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(6, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(7, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(8, 0, 'tinytable_css_224yacl53qtgf6d4nsyd') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(0, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(1, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(2, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(3, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(4, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(5, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(6, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(7, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(8, 1, 'tinytable_css_tmssmrwk0h873idwvdds') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(0, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(1, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(2, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(3, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(4, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(5, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(6, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(7, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(8, 2, 'tinytable_css_tezrypwa8khtleriogt1') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(0, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(1, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(2, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(3, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(4, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(5, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(6, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(7, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
window.addEventListener('load', function () { styleCell_tinytable_2vpffdzoujwa96cjps77(8, 3, 'tinytable_css_c8wxv1qufjm1pw431g8h') })
    </script>

  


</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datasummary_skim</span>(df, <span class="at">type =</span> <span class="st">"numeric"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_5t7gm7m2pig1pij4p091</title>
    <style>
.table td.tinytable_css_6s2yorzjj1zebwu85gt6, .table th.tinytable_css_6s2yorzjj1zebwu85gt6 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_mbpccueqbkwr2pui389s, .table th.tinytable_css_mbpccueqbkwr2pui389s {    text-align: left; }
.table td.tinytable_css_iyhlq645ungqzj7cut3o, .table th.tinytable_css_iyhlq645ungqzj7cut3o {    text-align: left; }
.table td.tinytable_css_emwtuimqmzpkv19m5rnd, .table th.tinytable_css_emwtuimqmzpkv19m5rnd {    text-align: left; }
.table td.tinytable_css_w2xw659dtt0t5j90lchy, .table th.tinytable_css_w2xw659dtt0t5j90lchy {    text-align: left; }
.table td.tinytable_css_zzd1ywokj30b76yfrze4, .table th.tinytable_css_zzd1ywokj30b76yfrze4 {    text-align: left; }
.table td.tinytable_css_h35kb9tl8pcxl57rgcci, .table th.tinytable_css_h35kb9tl8pcxl57rgcci {    text-align: left; }
.table td.tinytable_css_3qrmngx3qo5eyc8hnvb5, .table th.tinytable_css_3qrmngx3qo5eyc8hnvb5 {    text-align: left; }
.table td.tinytable_css_nd81h2vcpx5563diqvqn, .table th.tinytable_css_nd81h2vcpx5563diqvqn {    text-align: left; }
.table td.tinytable_css_fvhqrujtdh3gx7d3rtpd, .table th.tinytable_css_fvhqrujtdh3gx7d3rtpd {    text-align: left; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_5t7gm7m2pig1pij4p091" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Unique</th>
                <th scope="col">Missing Pct.</th>
                <th scope="col">Mean</th>
                <th scope="col">SD</th>
                <th scope="col">Min</th>
                <th scope="col">Median</th>
                <th scope="col">Max</th>
                <th scope="col">Histogram</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>bill_length_mm   </td>
                  <td>165</td>
                  <td>1</td>
                  <td>43.9  </td>
                  <td>5.5  </td>
                  <td>32.1  </td>
                  <td>44.5  </td>
                  <td>59.6  </td>
                  <td><img src="./tinytable_assets/idg1rz6bm8rbto2mq4ljhq.png" style="height: 1em;"></td>
                </tr>
                <tr>
                  <td>bill_depth_mm    </td>
                  <td>81 </td>
                  <td>1</td>
                  <td>17.2  </td>
                  <td>2.0  </td>
                  <td>13.1  </td>
                  <td>17.3  </td>
                  <td>21.5  </td>
                  <td><img src="./tinytable_assets/idhogwflux11wbrctusoom.png" style="height: 1em;"></td>
                </tr>
                <tr>
                  <td>flipper_length_mm</td>
                  <td>56 </td>
                  <td>1</td>
                  <td>200.9 </td>
                  <td>14.1 </td>
                  <td>172.0 </td>
                  <td>197.0 </td>
                  <td>231.0 </td>
                  <td><img src="./tinytable_assets/idb5f2om0a0729ojx7r1wy.png" style="height: 1em;"></td>
                </tr>
                <tr>
                  <td>body_mass_g      </td>
                  <td>95 </td>
                  <td>1</td>
                  <td>4201.8</td>
                  <td>802.0</td>
                  <td>2700.0</td>
                  <td>4050.0</td>
                  <td>6300.0</td>
                  <td><img src="./tinytable_assets/idezj93lmf3elawwi08axa.png" style="height: 1em;"></td>
                </tr>
                <tr>
                  <td>year             </td>
                  <td>3  </td>
                  <td>0</td>
                  <td>2008.0</td>
                  <td>0.8  </td>
                  <td>2007.0</td>
                  <td>2008.0</td>
                  <td>2009.0</td>
                  <td><img src="./tinytable_assets/ideobhhf6flugqa7ihi5la.png" style="height: 1em;"></td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_7d6vbixktnbj1x7odq3r(i, j, css_id) {
        var table = document.getElementById("tinytable_5t7gm7m2pig1pij4p091");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_5t7gm7m2pig1pij4p091');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_7d6vbixktnbj1x7odq3r(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_5t7gm7m2pig1pij4p091");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 0, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 1, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 2, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 3, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 4, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 5, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 6, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 7, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 8, 'tinytable_css_6s2yorzjj1zebwu85gt6') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 0, 'tinytable_css_mbpccueqbkwr2pui389s') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 0, 'tinytable_css_mbpccueqbkwr2pui389s') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 0, 'tinytable_css_mbpccueqbkwr2pui389s') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 0, 'tinytable_css_mbpccueqbkwr2pui389s') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 0, 'tinytable_css_mbpccueqbkwr2pui389s') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 0, 'tinytable_css_mbpccueqbkwr2pui389s') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 1, 'tinytable_css_iyhlq645ungqzj7cut3o') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 1, 'tinytable_css_iyhlq645ungqzj7cut3o') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 1, 'tinytable_css_iyhlq645ungqzj7cut3o') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 1, 'tinytable_css_iyhlq645ungqzj7cut3o') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 1, 'tinytable_css_iyhlq645ungqzj7cut3o') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 1, 'tinytable_css_iyhlq645ungqzj7cut3o') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 2, 'tinytable_css_emwtuimqmzpkv19m5rnd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 2, 'tinytable_css_emwtuimqmzpkv19m5rnd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 2, 'tinytable_css_emwtuimqmzpkv19m5rnd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 2, 'tinytable_css_emwtuimqmzpkv19m5rnd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 2, 'tinytable_css_emwtuimqmzpkv19m5rnd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 2, 'tinytable_css_emwtuimqmzpkv19m5rnd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 3, 'tinytable_css_w2xw659dtt0t5j90lchy') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 3, 'tinytable_css_w2xw659dtt0t5j90lchy') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 3, 'tinytable_css_w2xw659dtt0t5j90lchy') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 3, 'tinytable_css_w2xw659dtt0t5j90lchy') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 3, 'tinytable_css_w2xw659dtt0t5j90lchy') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 3, 'tinytable_css_w2xw659dtt0t5j90lchy') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 4, 'tinytable_css_zzd1ywokj30b76yfrze4') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 4, 'tinytable_css_zzd1ywokj30b76yfrze4') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 4, 'tinytable_css_zzd1ywokj30b76yfrze4') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 4, 'tinytable_css_zzd1ywokj30b76yfrze4') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 4, 'tinytable_css_zzd1ywokj30b76yfrze4') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 4, 'tinytable_css_zzd1ywokj30b76yfrze4') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 5, 'tinytable_css_h35kb9tl8pcxl57rgcci') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 5, 'tinytable_css_h35kb9tl8pcxl57rgcci') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 5, 'tinytable_css_h35kb9tl8pcxl57rgcci') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 5, 'tinytable_css_h35kb9tl8pcxl57rgcci') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 5, 'tinytable_css_h35kb9tl8pcxl57rgcci') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 5, 'tinytable_css_h35kb9tl8pcxl57rgcci') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 6, 'tinytable_css_3qrmngx3qo5eyc8hnvb5') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 6, 'tinytable_css_3qrmngx3qo5eyc8hnvb5') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 6, 'tinytable_css_3qrmngx3qo5eyc8hnvb5') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 6, 'tinytable_css_3qrmngx3qo5eyc8hnvb5') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 6, 'tinytable_css_3qrmngx3qo5eyc8hnvb5') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 6, 'tinytable_css_3qrmngx3qo5eyc8hnvb5') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 7, 'tinytable_css_nd81h2vcpx5563diqvqn') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 7, 'tinytable_css_nd81h2vcpx5563diqvqn') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 7, 'tinytable_css_nd81h2vcpx5563diqvqn') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 7, 'tinytable_css_nd81h2vcpx5563diqvqn') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 7, 'tinytable_css_nd81h2vcpx5563diqvqn') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 7, 'tinytable_css_nd81h2vcpx5563diqvqn') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(0, 8, 'tinytable_css_fvhqrujtdh3gx7d3rtpd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(1, 8, 'tinytable_css_fvhqrujtdh3gx7d3rtpd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(2, 8, 'tinytable_css_fvhqrujtdh3gx7d3rtpd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(3, 8, 'tinytable_css_fvhqrujtdh3gx7d3rtpd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(4, 8, 'tinytable_css_fvhqrujtdh3gx7d3rtpd') })
window.addEventListener('load', function () { styleCell_tinytable_7d6vbixktnbj1x7odq3r(5, 8, 'tinytable_css_fvhqrujtdh3gx7d3rtpd') })
    </script>

  


</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove penguins with missing data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(df)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># correlation tables</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">datasummary_correlation</span>(df[, <span class="fu">c</span>(<span class="st">"bill_length_mm"</span>, <span class="st">"bill_depth_mm"</span>, <span class="st">"flipper_length_mm"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"body_mass_g"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_3uz7oc7b18k2a9slouj6</title>
    <style>
.table td.tinytable_css_9g8otlphvbcciyzu6ggh, .table th.tinytable_css_9g8otlphvbcciyzu6ggh {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_gyeqwsjmv197qohsyeu0, .table th.tinytable_css_gyeqwsjmv197qohsyeu0 {    text-align: left; }
.table td.tinytable_css_pj4wd7asn7zoxnkuiyml, .table th.tinytable_css_pj4wd7asn7zoxnkuiyml {    text-align: right; }
.table td.tinytable_css_39gyzy5wl5f1i5gs7qj3, .table th.tinytable_css_39gyzy5wl5f1i5gs7qj3 {    text-align: right; }
.table td.tinytable_css_0c9elxthslobg5vzf1sx, .table th.tinytable_css_0c9elxthslobg5vzf1sx {    text-align: right; }
.table td.tinytable_css_i8s64zawj2osc6e22jt4, .table th.tinytable_css_i8s64zawj2osc6e22jt4 {    text-align: right; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_3uz7oc7b18k2a9slouj6" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">bill_length_mm</th>
                <th scope="col">bill_depth_mm</th>
                <th scope="col">flipper_length_mm</th>
                <th scope="col">body_mass_g</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>bill_length_mm   </td>
                  <td>1   </td>
                  <td>.   </td>
                  <td>.  </td>
                  <td>.</td>
                </tr>
                <tr>
                  <td>bill_depth_mm    </td>
                  <td>-.23</td>
                  <td>1   </td>
                  <td>.  </td>
                  <td>.</td>
                </tr>
                <tr>
                  <td>flipper_length_mm</td>
                  <td>.65 </td>
                  <td>-.58</td>
                  <td>1  </td>
                  <td>.</td>
                </tr>
                <tr>
                  <td>body_mass_g      </td>
                  <td>.59 </td>
                  <td>-.47</td>
                  <td>.87</td>
                  <td>1</td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_90t58e5q3by66n426i19(i, j, css_id) {
        var table = document.getElementById("tinytable_3uz7oc7b18k2a9slouj6");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_3uz7oc7b18k2a9slouj6');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_90t58e5q3by66n426i19(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_3uz7oc7b18k2a9slouj6");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 0, 'tinytable_css_9g8otlphvbcciyzu6ggh') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 1, 'tinytable_css_9g8otlphvbcciyzu6ggh') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 2, 'tinytable_css_9g8otlphvbcciyzu6ggh') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 3, 'tinytable_css_9g8otlphvbcciyzu6ggh') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 4, 'tinytable_css_9g8otlphvbcciyzu6ggh') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 0, 'tinytable_css_gyeqwsjmv197qohsyeu0') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(1, 0, 'tinytable_css_gyeqwsjmv197qohsyeu0') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(2, 0, 'tinytable_css_gyeqwsjmv197qohsyeu0') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(3, 0, 'tinytable_css_gyeqwsjmv197qohsyeu0') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(4, 0, 'tinytable_css_gyeqwsjmv197qohsyeu0') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 1, 'tinytable_css_pj4wd7asn7zoxnkuiyml') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(1, 1, 'tinytable_css_pj4wd7asn7zoxnkuiyml') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(2, 1, 'tinytable_css_pj4wd7asn7zoxnkuiyml') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(3, 1, 'tinytable_css_pj4wd7asn7zoxnkuiyml') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(4, 1, 'tinytable_css_pj4wd7asn7zoxnkuiyml') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 2, 'tinytable_css_39gyzy5wl5f1i5gs7qj3') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(1, 2, 'tinytable_css_39gyzy5wl5f1i5gs7qj3') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(2, 2, 'tinytable_css_39gyzy5wl5f1i5gs7qj3') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(3, 2, 'tinytable_css_39gyzy5wl5f1i5gs7qj3') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(4, 2, 'tinytable_css_39gyzy5wl5f1i5gs7qj3') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 3, 'tinytable_css_0c9elxthslobg5vzf1sx') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(1, 3, 'tinytable_css_0c9elxthslobg5vzf1sx') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(2, 3, 'tinytable_css_0c9elxthslobg5vzf1sx') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(3, 3, 'tinytable_css_0c9elxthslobg5vzf1sx') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(4, 3, 'tinytable_css_0c9elxthslobg5vzf1sx') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(0, 4, 'tinytable_css_i8s64zawj2osc6e22jt4') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(1, 4, 'tinytable_css_i8s64zawj2osc6e22jt4') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(2, 4, 'tinytable_css_i8s64zawj2osc6e22jt4') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(3, 4, 'tinytable_css_i8s64zawj2osc6e22jt4') })
window.addEventListener('load', function () { styleCell_tinytable_90t58e5q3by66n426i19(4, 4, 'tinytable_css_i8s64zawj2osc6e22jt4') })
    </script>

  


</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># frequency of body mass</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">color =</span> species, <span class="at">group =</span> species, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"body mass (g)"</span>, <span class="at">y =</span> <span class="st">"frequency"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Frequency of Body Masses by Species"</span>) <span class="sc">+</span> plot.format</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Data Visualizations-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bill length vs. bill depth</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm, <span class="at">color =</span> species,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> species)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> F) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"bill length (mm)"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"bill depth (mm)"</span>, <span class="at">title =</span> <span class="st">"Penguin Bill Length and Bill Depth by Species"</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    plot.format</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Data Visualizations-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># body mass vs. flipper length</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> flipper_length_mm, <span class="at">color =</span> species,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> species)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> F) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"body mass (g)"</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"flipper length (mm)"</span>, <span class="at">title =</span> <span class="st">"Penguin Body Mass and Flipper Length by Species"</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    plot.format</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Data Visualizations-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># just for fun radar plot</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fmsb)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create a function to normalize the predictors</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>nor <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    (x <span class="sc">-</span> <span class="fu">min</span>(x))<span class="sc">/</span>(<span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x))</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># normalize the predictor columns</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>penguin.norm <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">lapply</span>(df[, <span class="fu">c</span>(<span class="st">"body_mass_g"</span>, <span class="st">"flipper_length_mm"</span>,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bill_length_mm"</span>, <span class="st">"bill_depth_mm"</span>)], nor))</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>penguin.norm <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df<span class="sc">$</span>species, penguin.norm)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(penguin.norm)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"species"</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># get average data for each penguin species</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguin.norm <span class="sc">%&gt;%</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="st">`</span><span class="at">body mass</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(body_mass_g), <span class="st">`</span><span class="at">flipper</span><span class="sc">\n</span><span class="at">length</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(flipper_length_mm),</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">bill length</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(bill_length_mm), <span class="st">`</span><span class="at">bill</span><span class="sc">\n</span><span class="at">depth</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(bill_depth_mm))</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>penguins<span class="sc">$</span>species <span class="ot">&lt;-</span> <span class="fu">as.character</span>(penguins<span class="sc">$</span>species)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> penguins<span class="sc">$</span>species</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(penguins) <span class="ot">&lt;-</span> names</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">1</span>), penguins)</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="fu">radarchart</span>(penguins, <span class="at">pcol =</span> colors, <span class="at">plwd =</span> <span class="dv">3</span>, <span class="at">plty =</span> <span class="dv">1</span>, <span class="at">cglcol =</span> <span class="st">"grey"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Data Visualizations-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now that we’ve examined the data that we’re working with, let’s outline how we can leverage machine learning to analyze this data.</p>
<p>A common area of investigation in psychology are individual difference measures. Machine learning can be particularly useful to group data into groups, revealing underlying structures or similarities that may not be apparent to human raters. With the palmer penguin data, we can use the four data points for each penguin (bill length, bill depth, flipper length, and body mass) and their species grouping to develop a model that can be applied to new data (supervised). We can see how well a model can classify penguin data into species groups when we remove the species labels (unsupervised).</p>
</section>
</section>
<section id="supervised-learning" class="level1">
<h1>Supervised Learning</h1>
<p>Supervised learning is a machine learning technique for data that contains labeled examples, such that each data point contains features and an associated label. The goal of supervised learning is to map features to labels based on example data and apply that mapping to classify new data. In the case of the palmer penguin data, our features include bill length, bill depth, flipper length, and body mass, and our labels are penguin species names.</p>
<section id="k-nearest-neighbors" class="level2">
<h2 class="anchored" data-anchor-id="k-nearest-neighbors">K-Nearest Neighbors</h2>
<p>K-nearest neighbors (k-NN) is a technique used to classify data into specified classes. Let’s start by using the k-NN algorithm to try to classify our penguin species based on two data dimensions, bill length and bill depth.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set seed so we get the same results every time</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># generate a random number that is 80% of total number of rows in the</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># dataset; this will be our training set</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>ran <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df), <span class="fl">0.8</span> <span class="sc">*</span> <span class="fu">nrow</span>(df))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># create a function to normalize the predictors</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>nor <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    (x <span class="sc">-</span> <span class="fu">min</span>(x))<span class="sc">/</span>(<span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x))</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># normalize the predictor columns</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>df.norm <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">lapply</span>(df[, <span class="fu">c</span>(<span class="st">"bill_length_mm"</span>, <span class="st">"bill_depth_mm"</span>)],</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    nor))</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># check that normalizing worked</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df.norm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> bill_length_mm   bill_depth_mm   
 Min.   :0.0000   Min.   :0.0000  
 1st Qu.:0.2691   1st Qu.:0.2976  
 Median :0.4509   Median :0.5000  
 Mean   :0.4325   Mean   :0.4839  
 3rd Qu.:0.6000   3rd Qu.:0.6667  
 Max.   :1.0000   Max.   :1.0000  </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract training set</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>df.train <span class="ot">&lt;-</span> df.norm[ran, ]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># extract testing set</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>df.test <span class="ot">&lt;-</span> df.norm[<span class="sc">-</span>ran, ]</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># extract species name to be used as classification argument in knn</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>df.category <span class="ot">&lt;-</span> df[ran, <span class="dv">1</span>]</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># run knn function; let's start with 3 neighbors and see how accurate that</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co"># is</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">knn</span>(<span class="at">train =</span> df.train, <span class="at">test =</span> df.test, <span class="at">cl =</span> df.category<span class="sc">$</span>species, <span class="at">k =</span> <span class="dv">3</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># show proportion correctly classified</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>accuracy <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">sum</span>(df.category<span class="sc">$</span>species <span class="sc">==</span> pred)<span class="sc">/</span><span class="fu">nrow</span>(df.category)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"KNN classification accuracy = "</span>, <span class="fu">round</span>(accuracy, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"%"</span>, <span class="at">sep =</span> <span class="st">""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "KNN classification accuracy = 39.1%"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># yikes, not great let's try again with different numbers of neighbors</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">&lt;-</span> <span class="fu">knn</span>(<span class="at">train =</span> df.train, <span class="at">test =</span> df.test, <span class="at">cl =</span> df.category<span class="sc">$</span>species, <span class="at">k =</span> <span class="dv">10</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>accuracy <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">sum</span>(df.category<span class="sc">$</span>species <span class="sc">==</span> pred)<span class="sc">/</span><span class="fu">nrow</span>(df.category)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"KNN classification accuracy = "</span>, <span class="fu">round</span>(accuracy, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"%"</span>, <span class="at">sep =</span> <span class="st">""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "KNN classification accuracy = 38.35%"</code></pre>
</div>
</div>
</section>
<section id="classification-decision-trees" class="level2">
<h2 class="anchored" data-anchor-id="classification-decision-trees">Classification / Decision Trees</h2>
<p>Classification trees (or decision trees) are another supervised learning technique to draw conclusions about a set of data observations. Classification trees are tree models where the target variable (in our case, the species variable) can take on a set of discrete values (e.g., Chinstrap, Gentoo, Adelie). We can train a decision tree model on a selection of our data and then apply it to a set of test data, and see how accurately the decision tree can categorize penguins with their correct species label.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># shuffle rows to ensure we take a random sample for training and testing</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># sets</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>shuffle.index <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df))</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>shuffle.df <span class="ot">&lt;-</span> df[shuffle.index, ]</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># we need to create a testing and training set, 80% trains the model data</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co"># = dataset to train model, size = percent split, train = T creates train</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># set otherwise test</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>create_train_set <span class="ot">&lt;-</span> <span class="cf">function</span>(data, <span class="at">size =</span> <span class="fl">0.8</span>, <span class="at">train =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    n_row <span class="ot">=</span> <span class="fu">nrow</span>(data)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    total_row <span class="ot">=</span> size <span class="sc">*</span> n_row</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    train_sample <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>total_row</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (train <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(data[train_sample, ])</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(data[<span class="sc">-</span>train_sample, ])</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co"># make sure to use the new shuffled data frame!</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>df.train <span class="ot">&lt;-</span> <span class="fu">create_train_set</span>(shuffle.df, <span class="fl">0.8</span>, <span class="at">train =</span> T)</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>df.test <span class="ot">&lt;-</span> <span class="fu">create_train_set</span>(shuffle.df, <span class="fl">0.8</span>, <span class="at">train =</span> F)</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="co"># fit decision tree model</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">rpart</span>(species <span class="sc">~</span> ., <span class="at">data =</span> df.train, <span class="at">method =</span> <span class="st">"class"</span>)</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="fu">rpart.plot</span>(fit, <span class="at">extra =</span> <span class="dv">106</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: extra=106 but the response has 3 levels (only the 2nd level is
displayed)</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Classification Trees-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now let's predict on the test dataset</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>predicted.test <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit, df.test, <span class="at">type =</span> <span class="st">"class"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>table_predicted <span class="ot">&lt;-</span> <span class="fu">table</span>(df.test<span class="sc">$</span>species, predicted.test)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>table_predicted</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           predicted.test
            Adelie Chinstrap Gentoo
  Adelie        26         2      0
  Chinstrap      1        14      0
  Gentoo         0         0     24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># it did pretty well! it correctly predicted 26 Adelie penguins but</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># incorrectly classified 2 Chinstrap penguins as Adelie penguins</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># measure performance</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>accuracy <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">diag</span>(table_predicted))<span class="sc">/</span><span class="fu">sum</span>(table_predicted)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>accuracy <span class="ot">&lt;-</span> accuracy <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Decision tree classification accuracy = "</span>, <span class="fu">round</span>(accuracy, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"%"</span>, <span class="at">sep =</span> <span class="st">""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Decision tree classification accuracy = 95.52%"</code></pre>
</div>
</div>
<hr>
</section>
</section>
<section id="unsupervised-learning" class="level1">
<h1>Unsupervised Learning</h1>
<p>Unsupervised machine learning is a technique for data that does not contained labeled examples. There are two goals to unsupervised machine learning: clustering and dimensionality reduction. You will learn how to use two techniques - K-means clustering will help you cluster data and Principal Components Analysis will help you reduce dimensionality within the data.</p>
<p>First, we need to <strong>remove labels</strong> from our dataset. In unsupervised machine learning, there are no labels provided alongside the data. Since we’re working with a dataset that has labels already (see the supervised learning approaches above), let’s remove the labels (species, island, sex) and see how well unsupervised models perform.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pull only penguin measurements - bill length, bill depth, flipper</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># length, body mass</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>df.ul <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="k-means-clustering" class="level2">
<h2 class="anchored" data-anchor-id="k-means-clustering">K-means clustering</h2>
<p>K-means clustering is an unsupervised technique that assigns each observation to one of <code>k</code> clusters based on the nearest cluster centroid. We have to specify the number of clusters we might expect from the data (we can also do this iteratively to <em>find</em> the optimal number of clusters based on the data) - this is our <code>k</code>.</p>
<p><img src="kmeans-overview.jpeg" class="img-fluid" style="width:50.0%"></p>
<p>I find this series of visualizations to be really helpful in understanding the process of assigning observations to these clusters.</p>
<p><img src="kmeans-all.png" class="img-fluid"></p>
<p>In this example, we’re going to try using a <code>k</code> of 3 as a hypothesized number of clusters for <strong>species</strong> and a <code>k</code> of 2 as a hypothesized number of clusters for penguin sex. For simplicity, we will be using only <code>flipper length</code> and <code>bill length</code> observations. K-means clustering can handle more than 2 dimensions of data, but to best outline how k-means clustering compares to the actual structure of the data, we will just use these two for now.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># subset flipper length and bill length from unlabeled data frame</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>ul.subset <span class="ot">&lt;-</span> df.ul <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(bill_length_mm, flipper_length_mm)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co"># let's visualize the data with species labels from our main data frame</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> flipper_length_mm, <span class="at">color =</span> species,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> species)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"bill length (mm)"</span>, <span class="at">y =</span> <span class="st">"flipper length (mm)"</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Penguin Bill Length and Flipper Length by Species"</span>) <span class="sc">+</span> plot.format</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/K-Means Clustering-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run k-means clustering for species (k = 3)</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>k3 <span class="ot">&lt;-</span> stats<span class="sc">::</span><span class="fu">kmeans</span>(ul.subset, <span class="dv">3</span>, <span class="at">nstart =</span> <span class="dv">25</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(k3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 9
 $ cluster     : int [1:333] 2 2 3 2 2 2 3 2 2 3 ...
 $ centers     : num [1:3, 1:2] 47.6 38.5 45.9 217 187.1 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:3] "1" "2" "3"
  .. ..$ : chr [1:2] "bill_length_mm" "flipper_length_mm"
 $ totss       : num 75148
 $ withinss    : num [1:3] 6521 3301 4037
 $ tot.withinss: num 13859
 $ betweenss   : num 61289
 $ size        : int [1:3] 124 115 94
 $ iter        : int 3
 $ ifault      : int 0
 - attr(*, "class")= chr "kmeans"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>k3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>K-means clustering with 3 clusters of sizes 124, 115, 94

Cluster means:
  bill_length_mm flipper_length_mm
1       47.65000          217.0000
2       38.45304          187.0522
3       45.94574          196.8404

Clustering vector:
  [1] 2 2 3 2 2 2 3 2 2 3 2 3 3 2 3 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 2 2 2 2 2 3
 [38] 2 3 2 2 2 2 2 2 2 2 3 2 2 2 2 2 2 2 3 2 2 2 2 2 2 2 3 2 2 3 3 2 3 2 2 2 3
 [75] 2 3 2 2 2 3 2 2 2 2 3 3 2 2 2 1 2 3 2 3 2 3 2 2 2 2 3 2 2 3 3 3 2 3 2 3 2
[112] 3 2 2 2 3 2 3 2 3 2 3 2 1 2 3 2 3 2 2 2 3 2 2 2 2 2 2 2 2 2 2 2 2 2 3 1 1
[149] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 1 1 1 1 1 1 1
[186] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[223] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[260] 1 1 1 1 1 1 3 3 3 2 3 3 2 3 3 3 3 3 2 3 3 3 3 3 3 3 2 3 2 3 3 3 3 3 3 3 2
[297] 3 2 3 3 3 3 1 3 3 1 2 3 3 3 3 3 1 3 3 3 3 3 3 2 3 3 3 3 3 3 3 3 1 3 3 1 3

Within cluster sum of squares by cluster:
[1] 6520.630 3301.413 4036.900
 (between_SS / total_SS =  81.6 %)

Available components:

[1] "cluster"      "centers"      "totss"        "withinss"     "tot.withinss"
[6] "betweenss"    "size"         "iter"         "ifault"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cluster</span>(k3, <span class="at">data =</span> ul.subset) <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/K-Means Clustering-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let's visualize the data using sex labels</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df, <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> flipper_length_mm, <span class="at">color =</span> sex,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> sex)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"bill length (mm)"</span>, <span class="at">y =</span> <span class="st">"flipper length (mm)"</span>,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Penguin Bill Length and Flipper Length by Sex"</span>) <span class="sc">+</span> plot.format</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/K-Means Clustering-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run k-means clustering for sex (k = 2)</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>k2 <span class="ot">&lt;-</span> stats<span class="sc">::</span><span class="fu">kmeans</span>(ul.subset, <span class="dv">2</span>, <span class="at">nstart =</span> <span class="dv">25</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(k2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 9
 $ cluster     : int [1:333] 2 2 2 2 2 2 2 2 2 2 ...
 $ centers     : num [1:2, 1:2] 47.8 41.5 216.2 190.9
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:2] "1" "2"
  .. ..$ : chr [1:2] "bill_length_mm" "flipper_length_mm"
 $ totss       : num 75148
 $ withinss    : num [1:2] 8012 12938
 $ tot.withinss: num 20950
 $ betweenss   : num 54198
 $ size        : int [1:2] 133 200
 $ iter        : int 1
 $ ifault      : int 0
 - attr(*, "class")= chr "kmeans"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>k2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>K-means clustering with 2 clusters of sizes 133, 200

Cluster means:
  bill_length_mm flipper_length_mm
1       47.76241          216.1504
2       41.48600          190.8700

Clustering vector:
  [1] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
 [38] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
 [75] 2 2 2 2 2 2 2 2 2 2 2 1 2 2 2 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
[112] 2 2 2 2 2 2 2 2 2 2 2 2 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 1 1
[149] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[186] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[223] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[260] 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 1 2
[297] 2 2 1 2 2 2 1 2 1 1 2 2 2 2 2 2 1 2 2 2 2 2 1 2 2 2 1 2 2 1 2 2 1 2 2 1 2

Within cluster sum of squares by cluster:
[1]  8011.965 12937.821
 (between_SS / total_SS =  72.1 %)

Available components:

[1] "cluster"      "centers"      "totss"        "withinss"     "tot.withinss"
[6] "betweenss"    "size"         "iter"         "ifault"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cluster</span>(k2, <span class="at">data =</span> ul.subset) <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/K-Means Clustering-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>How do we determine the “optimal” number of clusters based on our data? There are a few different methods we can use to find the optimal <code>k</code> to specify. This process can be somewhat subjective, but we can use three different methods to attempt to reach a consensus. Partitioning the data with k-means clustering aims to minimize the intra-cluster variation.</p>
<p>The first method is called the <strong>Elbow Method</strong> and aims to find a <code>k</code> that has the smallest within-cluster sum of squares (WSS). The total WSS measures how compact the clusters are. The Elbow Method examines total WSS as a function of the number of clusters such that adding another cluster doesn’t improve the total WSS.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_nbclust</span>(ul.subset, kmeans, <span class="at">method =</span> <span class="st">"wss"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Optimizing Clusters - WSS-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can also use a method called the <strong>Average Silhouette Method</strong> which measures the quality of a clustering. A high average silhouette width indicates good clustering. With this method, the optimal number for <code>k</code> is the one that maximizes the average silhouette over a range of possible values for <code>k</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_nbclust</span>(ul.subset, kmeans, <span class="at">method =</span> <span class="st">"silhouette"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Optimizing Clusters - ASM-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Finally, we can use a statistical method called the <strong>Gap Statistic Method</strong> which compares data against a null hypothesis. The gap statistic compares the total within intra-cluster variation for different values of <code>k</code> with their expected values under a null reference distribution of the data. The optimal cluster number is a value that maximizes the gap statistic and means that the clustering structure is far from the random uniform distribution of observations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>gap_stat <span class="ot">&lt;-</span> <span class="fu">clusGap</span>(ul.subset, <span class="at">FUN =</span> kmeans, <span class="at">nstart =</span> <span class="dv">25</span>, <span class="at">K.max =</span> <span class="dv">10</span>, <span class="at">B =</span> <span class="dv">50</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_gap_stat</span>(gap_stat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Optimizing Clusters - Gap Statistic-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Ok so from these three methods, we have a mixture of suggestions. The Elbow Method suggests 4 clusters, the Silhouette Method suggests 2 clusters, and the Gap Statistic Method suggests 4 clusters. There is no clear consensus, but we can be relatively confident that using a <code>k</code> between 2 and 4 is likely optimal. Let’s see how these different k values look with our data!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate kmeans for 2, 3, and 4 centers</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>k2 <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(ul.subset, <span class="at">centers =</span> <span class="dv">2</span>, <span class="at">nstart =</span> <span class="dv">25</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>k3 <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(ul.subset, <span class="at">centers =</span> <span class="dv">3</span>, <span class="at">nstart =</span> <span class="dv">25</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>k4 <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(ul.subset, <span class="at">centers =</span> <span class="dv">4</span>, <span class="at">nstart =</span> <span class="dv">25</span>)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># define plots to compare</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">fviz_cluster</span>(k2, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">data =</span> ul.subset) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"k = 2"</span>) <span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>()</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">fviz_cluster</span>(k3, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">data =</span> ul.subset) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"k = 3"</span>) <span class="sc">+</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>()</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">fviz_cluster</span>(k4, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">data =</span> ul.subset) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"k = 4"</span>) <span class="sc">+</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>()</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="co"># plot together</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, p3, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/KMC-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="principal-components-analysis" class="level2">
<h2 class="anchored" data-anchor-id="principal-components-analysis">Principal Components Analysis</h2>
<p>Principal Components Analysis (PCA) is a method to reduce dimensionality in a dataset using unsupervised machine learning models. We have four dimensions for each penguin in our dataset (bill length, bill depth, body mass, and flipper length), but as we discussed in k-means clustering, it’s difficult to visualize all four of these dimensions together. Using PCA, we can transform the data into lower-dimensional space and collapse highly correlated variables together. We can then extract important information and visualize the data more easily.</p>
<p>The first step we’ll want to take for PCA is data normalization. We can use the same function we created in the supervised learning section. Then we need to compute a covariance matrix from the normalized data (using the <code>corrr</code> package).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># normalize the unlabeled data frame</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>df.norm <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">lapply</span>(df.ul, nor))</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># compute correlation matrix</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>df.corr <span class="ot">&lt;-</span> <span class="fu">cor</span>(df.norm)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># visualize correlation matrix</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcorrplot</span>(df.corr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/PCA-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># conduct PCA</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>df.pca <span class="ot">&lt;-</span> <span class="fu">princomp</span>(df.corr)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df.pca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                         Comp.1     Comp.2      Comp.3 Comp.4
Standard deviation     1.128537 0.22631151 0.067070224      0
Proportion of Variance 0.958087 0.03852893 0.003384022      0
Cumulative Proportion  0.958087 0.99661598 1.000000000      1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view loadings of first two components only</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>df.pca<span class="sc">$</span>loadings[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Comp.1     Comp.2
bill_length_mm     0.3536264  0.9238103
bill_depth_mm     -0.5572550  0.1601286
flipper_length_mm  0.5544175 -0.1353666
body_mass_g        0.5069877 -0.3203266</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># scree plot</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_eig</span>(df.pca, <span class="at">addlabels =</span> T, <span class="at">barfill =</span> <span class="st">"deepskyblue3"</span>, <span class="at">barcolor =</span> <span class="st">"deepskyblue3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/PCA-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># biplot of attributes</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_var</span>(df.pca, <span class="at">col.var =</span> <span class="st">"deepskyblue3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/PCA-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>In this tutorial, you have learned how to apply both supervised and unsupervised machine learning models to an easily available dataset. These techniques include K-Nearest Neighbors clustering, Decision Trees, K-Means Clustering, and Principal Components Analysis. Using these relatively simple tools in a programming language that is popular among psychology and neuroscience researchers makes these machine learning techniques easily accessible and applicable to a variety of datasets, research projects, and topics.</p>
<p>If you’re interested in learning more about machine learning, or learning how to apply more advanced machine learning models to your data, there are a host of resources for machine learning in Python. Some useful introduction tutorials are linked below:</p>
<ul>
<li>https://www.geeksforgeeks.org/introduction-machine-learning-using-python/#<br>
</li>
<li>https://github.com/amueller/introduction_to_ml_with_python</li>
</ul>
<p>Thanks for following along!</p>
<p><img src="R-flowers.png" class="img-fluid" style="width:50.0%"></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>